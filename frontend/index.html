<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Embiggen Your Eyes - NASA Space Apps Challenge 2025</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
          crossorigin=""/>
    
    <!-- SF Symbols / System Icons Fallback -->
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&family=SF+Pro:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main Map Container -->
    <div id="map"></div>
    
    <!-- iOS-style Bottom Sheet Control Panel -->
    <div id="control-sheet" class="bottom-sheet collapsed">
        <div class="sheet-handle" id="sheet-handle">
            <div class="handle-bar"></div>
        </div>
        
        <div class="sheet-content">
            <!-- Quick Actions Bar -->
            <div class="quick-actions-bar">
                <button class="action-btn" id="btn-bodies" title="Celestial Bodies">
                    <span class="material-icons-round">public</span>
                    <span class="action-label">Bodies</span>
                </button>
                <button class="action-btn" id="btn-layers" title="Layers">
                    <span class="material-icons-round">layers</span>
                    <span class="action-label">Layers</span>
                </button>
                <button class="action-btn" id="btn-overlay" title="Overlay Layers">
                    <span class="material-icons-round">filter_none</span>
                    <span class="action-label">Overlay</span>
                </button>
                <button class="action-btn" id="btn-compare" title="Compare">
                    <span class="material-icons-round">compare</span>
                    <span class="action-label">Compare</span>
                </button>
                <button class="action-btn" id="btn-collections" title="Collections">
                    <span class="material-icons-round">collections</span>
                    <span class="action-label">Sets</span>
                </button>
                <button class="action-btn" id="btn-tools" title="Tools">
                    <span class="material-icons-round">draw</span>
                    <span class="action-label">Tools</span>
                </button>
            </div>
            
            <!-- Dynamic Content Area -->
            <div class="sheet-main" id="sheet-main">
                <!-- Default: Bodies Selector -->
                <div class="content-panel active" id="panel-bodies">
                    <h3 class="panel-title">Explore</h3>
                    <div class="body-grid">
                        <div class="body-card" data-body="earth">
                            <div class="body-icon">üåç</div>
                            <div class="body-name">Earth</div>
                            <div class="body-desc">Live imagery</div>
                        </div>
                        <div class="body-card" data-body="mars">
                            <div class="body-icon">üî¥</div>
                            <div class="body-name">Mars</div>
                            <div class="body-desc">Red Planet</div>
                        </div>
                        <div class="body-card" data-body="moon">
                            <div class="body-icon">üåï</div>
                            <div class="body-name">Moon</div>
                            <div class="body-desc">Lunar surface</div>
                        </div>
                        <div class="body-card" data-body="mercury">
                            <div class="body-icon">‚òøÔ∏è</div>
                            <div class="body-name">Mercury</div>
                            <div class="body-desc">MESSENGER</div>
                        </div>
                        <div class="body-card" data-body="custom">
                            <div class="body-icon">üì∑</div>
                            <div class="body-name">Custom</div>
                            <div class="body-desc">Your images</div>
                        </div>
                    </div>
                </div>
                
                <!-- Layers Panel -->
                <div class="content-panel" id="panel-layers">
                    <h3 class="panel-title">Layers</h3>
                    <div id="layers-list" class="layers-list"></div>
                    <div class="date-picker-section" id="date-section">
                        <label class="input-label">Date</label>
                        <input type="date" id="date-picker" class="glass-input" />
                    </div>
                </div>
                
                <!-- Overlay Panel -->
                <div class="content-panel" id="panel-overlay">
                    <h3 class="panel-title">Layer Overlay</h3>
                    <p class="panel-desc">Add multiple layers from the same celestial body</p>
                    <div id="overlay-layers" class="overlay-layers">
                        <!-- Base layer -->
                        <div class="overlay-item base-layer">
                            <span class="material-icons-round">layers</span>
                            <div class="overlay-info">
                                <div class="overlay-name">Base Layer</div>
                                <div class="overlay-desc" id="base-layer-name">Select a layer</div>
                            </div>
                        </div>
                    </div>
                    <button class="glass-button" id="btn-add-overlay">
                        <span class="material-icons-round">add</span>
                        Add Overlay Layer
                    </button>
                </div>
                
                <!-- Compare Panel -->
                <div class="content-panel" id="panel-compare">
                    <h3 class="panel-title">Compare Images</h3>
                    <div class="compare-modes">
                        <button class="mode-btn active" data-mode="overlay">
                            <span class="material-icons-round">filter_none</span>
                            Overlay
                        </button>
                        <button class="mode-btn" data-mode="swipe">
                            <span class="material-icons-round">compare</span>
                            Swipe
                        </button>
                        <button class="mode-btn" data-mode="split">
                            <span class="material-icons-round">view_column</span>
                            Split
                        </button>
                    </div>
                    <div id="compare-images-list" class="compare-list"></div>
                </div>
                
                <!-- Collections Panel -->
                <div class="content-panel" id="panel-collections">
                    <h3 class="panel-title">Collections</h3>
                    <button class="glass-button" id="btn-new-collection">
                        <span class="material-icons-round">add</span>
                        New Collection
                    </button>
                    <div id="collections-list" class="collections-list"></div>
                </div>
                
                <!-- Tools Panel -->
                <div class="content-panel" id="panel-tools">
                    <h3 class="panel-title">Annotation Tools</h3>
                    <div class="tools-grid">
                        <button class="tool-btn" id="tool-marker">
                            <span class="material-icons-round">place</span>
                            <span>Marker</span>
                        </button>
                        <button class="tool-btn" id="tool-path">
                            <span class="material-icons-round">timeline</span>
                            <span>Path</span>
                        </button>
                        <button class="tool-btn" id="tool-rectangle">
                            <span class="material-icons-round">crop_square</span>
                            <span>Rectangle</span>
                        </button>
                        <button class="tool-btn" id="tool-circle">
                            <span class="material-icons-round">circle</span>
                            <span>Circle</span>
                        </button>
                    </div>
                    <div class="divider"></div>
                    <div id="annotations-list" class="annotations-list"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Floating Top Bar -->
    <div class="top-bar glass">
        <div class="top-bar-left">
            <h1 class="app-title">
                <span class="material-icons-round">explore</span>
                Embiggen Your Eyes
            </h1>
        </div>
        <div class="top-bar-right">
            <div class="status-pill" id="status-pill">
                <div class="status-dot"></div>
                <span id="status-text">Ready</span>
            </div>
            <button class="icon-btn glass" id="btn-suggestions" title="Smart Suggestions">
                <span class="material-icons-round">auto_awesome</span>
            </button>
            <button class="icon-btn glass" id="btn-search" title="Search">
                <span class="material-icons-round">search</span>
            </button>
        </div>
    </div>
    
    <!-- Floating Map Controls -->
    <div class="map-controls">
        <button class="map-btn glass" id="btn-zoom-in" title="Zoom In">
            <span class="material-icons-round">add</span>
        </button>
        <button class="map-btn glass" id="btn-zoom-out" title="Zoom Out">
            <span class="material-icons-round">remove</span>
        </button>
        <button class="map-btn glass" id="btn-locate" title="My Location">
            <span class="material-icons-round">my_location</span>
        </button>
        <button class="map-btn glass" id="btn-fullscreen" title="Fullscreen">
            <span class="material-icons-round">fullscreen</span>
        </button>
    </div>
    
    <!-- Info HUD -->
    <div class="info-hud glass">
        <div class="hud-item">
            <span class="material-icons-round">location_on</span>
            <span id="coordinates">0.00¬∞, 0.00¬∞</span>
        </div>
        <div class="hud-item">
            <span class="material-icons-round">zoom_in</span>
            <span id="zoom-level">Zoom: 2</span>
        </div>
    </div>
    
    <!-- Suggestions Popover -->
    <div class="suggestions-popover glass hidden" id="suggestions-popover">
        <h4 class="popover-title">Smart Suggestions</h4>
        <div id="suggestions-list" class="suggestions-list"></div>
    </div>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
            crossorigin=""></script>
    
    <!-- Application JS -->
    <script src="app.js"></script>
</body>
</html>
